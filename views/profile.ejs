<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.8.335/pdf.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.27.0/ace.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@2.1.3/css/boxicons.min.css">
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="file.css">
    <link rel="database" href="../database.js">
    <link rel="script" href="script.js">
    <title>User Profile</title>
</head>

<body>
    <div class="bb">
    <button id="backButton"><i class="fas fa-arrow-left"></i> Back</button>
</div>
    <div class="container">
        <div class="header">
            <h1>User Profile</h1>
            <div class="actions">
                <i class="bx bx-search"></i>
                <i class="bx bx-filter"></i>
            </div>
        </div>
        <form id="user-profile" action="/profile" method="post" enctype="multipart/form-data" onsubmit="return showErrorMessage()">
            <div class="table1">
            <% data.forEach(user => { %>
                <tr>
                    <td>
                        
                            <img class="profile-image" src="<%= user.image %>" alt="Profile Image">
                            
                            <div class="input-field">
                                <label for="imageInput" class="upload-label">
                                  <i class="fas fa-cloud-upload-alt"></i>Upload Image
                                  <input type="file" id="imageInput" name="image" accept="image/*">
                                </label>
                              </div>
                              
                            <div class="student">
                                <input type="submit" class="stusubmit" value="Upload Image">
                            </div>
                        </td>
                    </tr>
                <% }); %>
                </div>
                <div class="table">
               
                <% data.forEach(user => { %>
                    <div class="section">
                        <div class="head"><i class="fas fa-user"></i> Username </div>
                        <p><%= user.username %></p>
                    </div>
                <div class="section">
                    <div class="head"><i class="fas fa-envelope"></i> Email </div>
                    <p><%= user.email %></p>
                </div>
                <div class="section1">
                    <div class="head"><i class="fas fa-lock"></i> Password </div>
                    <p><%= user.password %></p>
                </div>
                <% }); %>
            </div>
            <% if (data && data.length > 0) { %>
            <!-- Your other content here -->
            <% } else { %>
            <p class="message">Data was not found or Empty</p>
            <% } %>
        </form>
		<button id="edit-profile"><i class="fas fa-user"></i>Edit Profile</button>

    </div>
</body>

<script>
	document.getElementById("backButton").addEventListener("click", function () {
		window.history.back();
	  });</script>

<style>
    
    body {
        font-family: 'Arial', sans-serif;
        margin: 0;
        padding: 0;
        transition: background-color 0.3s ease;
        /* Added transition for smoother mode change */
        background-color: var(--background-color);
    }

    :root {
        --background-color: #f5f5f5;
        --color: #333;
        --box-color: #7e7f83;
        --shadow-color:rgb(0, 0, 0);
    }

    .dark-theme {
        --background-color: #000127;
        --color: #fff;
        --box-color: #ffffff70;
        --shadow-color:white;
    }

    .container {
        max-width: 800px;
        margin: 20px auto;
        background-color: #fff;
        padding: 20px;
        box-shadow: 0 4px 8px var(--box-color);
        transition: background-color 0.3s ease;
        border-radius: 2rem;
    }

    .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    h1 {
        margin: 0;
        transition: color 0.3s ease;
    }

    .actions {
        display: flex;
    }

    i {
        font-size: 15px;
        color: #ffffff;
        margin-right: 10px;
        cursor: pointer;
        transition: color 0.3s ease;
    }

    i:hover {
        color: #333;
    }

    .bb button {
        font-size: 15px;
        padding: 10px 15px;
        cursor: pointer;
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 5px;
        transition: background-color 0.3s ease;
        margin-top: 10px;
        margin-bottom: 1rem;
        margin-left: 1rem;

    }

    .bb button:hover {
        background-color: #0056b3;
    }

    .container #edit-profile {
        font-size: 15px;
        padding: 10px 15px;
        cursor: pointer;
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 5px;
        transition: background-color 0.3s ease;
        margin-top: 10px;
        margin-bottom: 1rem;
        margin-right: 30rem;    
    }

    .container button:hover {
        background-color: #0056b3;
    }

    .table-container {
        margin-top: 20px;
        overflow-x: auto;
    }

    table {
        width: 100%;
        border-collapse: collapse;
    }

    th,
    td {
        border: 1px solid #ddd;
        padding: 15px;
        text-align: left;
        width: 100%;
    }

    th {
        background-color: #007bff;
        color: #fff;
    }

    a.data {
        text-decoration: none;
        color: #007bff;
        transition: color 0.3s ease;
    }

    a.data:hover {
        color: #0056b3;
    }

    .message {
        font-style: italic;
        color: #777;
    }

    /* Dark mode styles */
    .dark-mode .container {
        background-color: #222;
        color: #fff;
    }

    .dark-mode h1 {
        color: #fff;
    }

    .dark-mode th {
        background-color: #333;
        color: #fff;
    }

    .dark-mode a.data {
        color: #1e90ff;
    }

    .dark-mode a.data:hover {
        color: #00bfff;
    }

    .profile-image{
        width: 15vw;
        border-radius: 1rem;
        box-shadow: 0 4px 8px var(--shadow-color);
        margin-bottom: 2rem;
        margin: 0.5rem;
    }

    .stusubmit{
        background-color: #007bff;
        padding: 10px 10px;
        color: var(--background-color);
        margin-top: 0.5rem;
        border-radius: 0.33rem;
        border: none;
        margin-bottom: 1rem;
        margin-left: 0.5rem;
    }

    .table1{
        background-color: rgb(241, 240, 240);
        border-radius: 0.5rem;
        box-shadow: 0 4px 8px var(--box-color);
        margin-bottom: 2rem;
    }
    .table{
        background-color: rgb(241, 240, 240);
        border-radius: 0.5rem;
        box-shadow: 0 4px 8px var(--box-color);
        padding: 0.5rem;
    }

   .head{
        background-color: #007bff;  
        border-top-right-radius: 0.5rem;
        border-top-left-radius: 0.5rem;
        padding: 0.8rem;
        color: var(--background-color);
    }

    .section{
        border: 0.5px solid black;
        border-radius: 0.5rem;
        margin-bottom: 0.5rem;
    }

    .section1{
        border: 0.5px solid black;
        border-radius: 0.5rem;
    }

    .section p{
        padding: 0.5rem;
    }

    .section1 p{
        padding: 0.5rem;
    }

    .input-field{
        background-color: #007bff;
        width: 8.5vw;
        color: var(--background-color);
        margin: 0.5rem;
        padding: 9px 8px;
        font-size: 14px;
        text-align: center;
        border-radius: 0.3rem;
    }

    .input-field input{
        display: none;
        width: 10vw;

    }

    .input-field i{
        color: #161616;
    }
    
</style>

</html>
